# База данных репозиториев

## Постановка задачи

Целью проекта является разработка консольного приложения на языке программирования C (стандарт C99), предназначенного для создания, хранения и обработки файловой базы данных репозиториев программных проектов. Программа должна обеспечивать загрузку данных из файла, их просмотр, поиск по заданным критериям, сортировку записей и сохранение результатов в файл.

Разрабатываемое приложение ориентировано на демонстрацию практических навыков работы со структурами данных, файловым вводом-выводом, пользовательскими функциями и алгоритмами обработки массивов.

---

## Автор

Костопраев Дмитрий Евгеньевич
Группа бТИИ-251

---

## Структура проекта

Проект имеет модульную структуру и состоит из следующих файлов:

```
repository.h      — заголовочный файл с описанием структур данных,
                     перечислений и прототипов функций
repository_db.c   — реализация функций работы с базой данных
                     (загрузка, сохранение, поиск, сортировка)
io.c              — функции ввода данных и пользовательского интерфейса
main.c            — главный модуль программы с функцией main
data.txt          — пример файла данных
```

Разделение программы на модули обеспечивает логическую изоляцию функциональных частей, повышает читаемость кода и упрощает сопровождение проекта.

---

## Сборка проекта

Для компиляции программы используется компилятор gcc с поддержкой стандарта C99.

Команда сборки:

```
gcc -std=c99 -Wall -o repository.exe main.c repository_db.c io.c
```

---

## Запуск программы

После успешной компиляции запуск программы осуществляется командой:

```
repository.exe
```

Работа с программой выполняется через текстовое меню в консольном режиме.

---

## Функциональные возможности программы

Программа предоставляет пользователю следующий набор операций:

1. Загрузка базы данных из файла
2. Просмотр всех записей базы данных
3. Поиск записей по направлению разработки
4. Комбинированный поиск по дате релиза и размеру репозитория
5. Сортировка записей
6. Добавление новой записи
7. Сохранение базы данных в файл
8. Завершение работы программы

---

## Описание ключевых функций

Загрузка данных из файла выполняется функцией `db_load_from_file`, которая считывает записи из текстового файла, проверяет корректность входных данных и формирует внутреннюю структуру базы данных.

Сохранение данных реализуется функцией `db_save_to_file`, обеспечивающей запись текущего состояния базы данных в файл в установленном формате.

Добавление новой записи осуществляется функцией `db_add_record`, которая помещает новую запись в динамический массив базы данных с автоматическим расширением памяти при необходимости.

Поиск данных реализован функциями `db_search_by_direction` и `db_search_combined`, выполняющими последовательный просмотр массива записей и формирование результатов поиска.

Сортировка записей выполняется функцией `db_sort_bubble`, реализующей обменный алгоритм пузырьковой сортировки.

---

## Алгоритм сортировки

Для упорядочивания записей используется пузырьковая сортировка (Bubble Sort).

Сортировка выполняется по следующим ключам:

* название репозитория — по возрастанию;
* направление разработки — по возрастанию;
* дата релиза — по убыванию.

Выбор алгоритма обусловлен его наглядностью и простотой реализации, что является достаточным для учебного проекта с ограниченным объёмом данных.

---

## Формат файла данных

Данные хранятся в текстовом файле. Каждая запись занимает семь строк и имеет следующий формат:

```
<Направление>
<Сайт>
<Название>
<Размер>
<День> <Месяц> <Год>
<Зависимости>
<Совместимость>
```

Допустимые значения поля «Направление»:
Backend, Frontend, Mobile, DevOps, DataScience

Допустимые значения поля «Совместимость»:
Windows, Linux, macOS, CrossPlatform

---

## Контрольный пример записи

Пример корректной записи в файле данных:

```
Backend
https://github.com/example/plugin
AuthPlugin
256
15 3 2023
5
CrossPlatform
```

Данный пример может быть использован для проверки корректности загрузки, поиска и сортировки данных.

---

## Примечание

Комментарии в исходном коде отражают логику работы программы и назначение функций, а не синтаксические особенности языка программирования.
